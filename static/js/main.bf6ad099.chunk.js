(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},26:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(17),i=a.n(s),r=a(2),c=a(5),l=a(6),d=a(9),m=a(8),u=(a(25),function(e){return o.a.createElement("div",null,e.snake_body_element.map((function(e,t){var a={top:"".concat(e[1],"%"),left:"".concat(e[0],"%")};return o.a.createElement("div",{className:"snake_body_element",key:t,style:a})})))}),h=function(e){var t={top:"".concat(e.position[1],"%"),left:"".concat(e.position[0],"%")};return o.a.createElement("div",{className:"food",style:t})},v=a(7),p=(a(26),a(11)),f=a.n(p);a(27);f.a.initializeApp({apiKey:"AIzaSyBq2lqoUMDNP01NnIfOuZWf-Jp7sFydzvA",authDomain:"snake-ede56.firebaseapp.com",databaseURL:"https://snake-ede56.firebaseio.com",projectId:"snake-ede56",storageBucket:"snake-ede56.appspot.com",messagingSenderId:"750114326004",appId:"1:750114326004:web:980863df23d2b65700e5a1",measurementId:"G-LXSF6QJPRH"});var g=f.a,k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSaveScore=function(e){g.firestore().collection("names").add({name:n.state.name,highscore:n.props.score}),n.props.onClose(),n.props.onNewGame()},n.state={name:""},n.onNameChange=n.onNameChange.bind(Object(v.a)(n)),n}return Object(l.a)(a,[{key:"onNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=o.a.createElement("div",{className:"winningStyles"},o.a.createElement("div",{className:"Message"},"Congratulations, your score is ",this.props.score,"!!!"),(-1===this.props.limit||this.props.limit<this.props.score)&&o.a.createElement("div",null,o.a.createElement("input",{type:"text",id:"name",onChange:this.onNameChange}),o.a.createElement("button",{className:"buttons",id:"save",onClick:this.onSaveScore},"Save my score")),o.a.createElement("div",null,o.a.createElement("button",{className:"buttons",id:"newgame",onClick:this.props.onNewGame},"New Game")));return this.props.isOpen||(e=null),o.a.createElement("div",null,e)}}]),a}(n.Component),y=a(19),b=a(18);a(31);var E=function(e){var t=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){var e=g.firestore().collection("names").orderBy("highscore","desc").limit(10).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));o(t)}));return function(){return e()}}),["names"]),a}(),a=0;return a=t.length<10?-1:t[9]&&t[9].highscore,e.lastValue(a),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"title"},"Highscores"),o.a.createElement("ol",null,t.map((function(e){return o.a.createElement("li",{className:"item",key:e.id},o.a.createElement("div",null,o.a.createElement("div",{className:"name"},e.name),o.a.createElement("div",{className:"score"},e.highscore)))}))))},B=[[0,0],[4,0],[8,0]],N=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={speed:150,food:e.getStandardFoodCoordinates(),snakeBody:B,isWinningDialog:!1,direction:"RIGHT",limit:0},e.limit=0,e.previousBody=e.snakeBody,e.reset=function(){e.setState({speed:150,food:e.getStandardFoodCoordinates(),snakeBody:B,isWinningDialog:!1,direction:"RIGHT"})},e.getLastValue=function(t){e.limit=t},e.movement=function(){var t=Object(r.a)(e.state.snakeBody),a=t[t.length-1];switch(e.state.direction){case"RIGHT":a=[a[0]+4,a[1]];break;case"LEFT":a=[a[0]-4,a[1]];break;case"DOWN":a=[a[0],a[1]+4];break;case"UP":a=[a[0],a[1]-4]}t.push(a),t.shift(),0!==e.state.speed&&(e.previousBody=e.state.snakeBody,e.setState({snakeBody:t})),e.checkBorderHit(),e.checkBodyElementHit(),e.checkIfFoodHit()},e.onKeyPressed=function(t){switch((t=t||window.event).keyCode){case 68:e.setState({direction:"RIGHT"});break;case 65:e.setState({direction:"LEFT"});break;case 83:e.setState({direction:"DOWN"});break;case 87:e.setState({direction:"UP"})}},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"board"},o.a.createElement(u,{snake_body_element:this.state.snakeBody}),o.a.createElement(h,{position:this.state.food}),o.a.createElement("div",{className:"winningDialog"},o.a.createElement(k,{category:this.state.category,isOpen:this.state.isWinningDialog,onClose:function(t){return e.setState({isWinningDialog:!1})},onNewGame:this.reset,score:this.state.snakeBody.length,limit:this.limit}))),o.a.createElement("div",{className:"highscore"},o.a.createElement("h1",{id:"title"},"Snake"),o.a.createElement(E,{lastValue:this.getLastValue})))}},{key:"getStandardFoodCoordinates",value:function(){return[4*Math.floor((98*Math.random()+1)/4),4*Math.floor((98*Math.random()+1)/4)]}},{key:"getNewFoodCoordinates",value:function(){var e=this.getStandardFoodCoordinates(),t=Object(r.a)(this.state.snakeBody),a="good";do{a="good";for(var n=0;n<t.length;n++){var o=t[n];e[0]==o[0]&&e[1]==o[1]&&(a="bad")}"bad"===a&&(e=this.getStandardFoodCoordinates())}while("good"!==a);return e}},{key:"componentDidMount",value:function(){setInterval(this.movement,this.state.speed),document.onkeydown=this.onKeyPressed}},{key:"checkBorderHit",value:function(){var e=this.state.snakeBody[this.state.snakeBody.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.gameOver()}},{key:"checkBodyElementHit",value:function(){var e=this,t=Object(r.a)(this.state.snakeBody),a=t[t.length-1];t.pop(),t.forEach((function(t){a[0]==t[0]&&a[1]==t[1]&&e.gameOver()}))}},{key:"gameOver",value:function(){this.setState({speed:0,snakeBody:this.previousBody}),console.log("Done "+this.state.snakeBody.length),this.setState({isWinningDialog:!0})}},{key:"checkIfFoodHit",value:function(){var e=this.state.snakeBody[this.state.snakeBody.length-1],t=this.state.food;if(t[0]==e[0]&&t[1]==e[1]){var a=Object(r.a)(this.state.snakeBody);a.unshift([]),this.setState({snakeBody:a,food:this.getNewFoodCoordinates()})}}}]),a}(n.Component);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bf6ad099.chunk.js.map